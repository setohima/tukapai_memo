<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>HTML 5 complete</title>
<!--[if IE]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
</head>
<body>
  <script type="text/javascript">

     $(function(){
         // Ajax button click
         $('#ajax').on('click',function(){
             $.ajax({
                 url:'./download.php',
                 type:'POST',
                 data:{
                   ## TODO:ここにチェックボックスの内容をPOSTできるようにする
                     'file':$('#file').val(),
                 }
             })
             // Ajaxリクエストが成功した時発動
             .done( (data) => {
                 $('.result').html(data);
                 console.log(data);
             })
             // Ajaxリクエストが失敗した時発動
             .fail( (data) => {
                 $('.result').html(data);
                 console.log(data);
             })
             // Ajaxリクエストが成功・失敗どちらでも発動
             .always( (data) => {

             });
         });
     });
 </script>
<form name="download1" target="target1" action="test/download1.php"></form>
<input type="button" value="ダウンロード" onclick="download();" >

<iframe name="target1" width="0" height="0"></iframe>
<iframe name="target2" width="0" height="0"></iframe>
</body>
</html>
